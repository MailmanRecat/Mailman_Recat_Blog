<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title></title>
    <style>
        @font-face {
            font-family: roboto;
            src:url('Roboto.woff2') format('woff2');
        }

        *{ padding: 0px; margin: 0px; }
        button, input, select{ outline: none; }
        button{ cursor: pointer; }

        body{ background-color: #ffffff; opacity: 1; z-index: 0; }

        .icon-search{ position: relative; border-radius: 50%; -webkit-transform: rotate( -45deg ); background-color: transparent; }
        .icon-search.small { width: 20px; height: 20px; border: solid 2px #0678C9; }
        .icon-search.middle{ width: 57px; height: 57px; border: solid 2px #0678C9; }
        .icon-search.big   { width: 77px; height: 77px; border: solid 3px #0678C9; }
        .icon-search:before{ content: attr(BF); width: 12%; height: 77%; background-color: #0678C9; position: absolute; bottom: -77%; left: 50%; -webkit-transform: translateX(-50%); }

        .search, .keyboard{  -webkit-transition: all 0.4s; z-index: 1; }

        .search      { position: relative; height: 42px; width: 80%; left: 50%; top: 177px; -webkit-transform: translateX(-50%); }
        .search input{ position: relative; width: 96%; height: 100%; padding: 0% 2%; border: 2px #0678C9 solid; background-color: #ffffff; border-radius: 0px; color: #000000; font-size: 1.6em; }
        .search.up   { top: 17px; }

        .search .icon-search{ position: absolute; right: 17px; top: 5px; z-index: 7; }

        .res-box{ display: none; position: absolute; width: 80%; height: auto; max-height: 600px; margin-left: 10%; top: 59px; overflow: scroll; background-color: #ffffff; -webkit-box-shadow:0 1px 4px rgba(0,0,0,.17); }
        .res-box ul{ position: relative; height: auto; list-style: none; width: 100%; left: 0px; top:0px; cursor: pointer; }
        .res-box ul li{ height: 77px; line-height: 77px; width: 96%; padding: 0% 2%; }
        .res-box ul li:hover{ background-color: #EDEDED; }

        .keyboard, .keyboard button{ -webkit-box-shadow:0 1px 4px rgba(0,0,0,.17); }
        .keyboard{ position: fixed; bottom: -100%; padding: 5px 0px 5px 0px; left: 0px; width: 100%; height: 400px; background-color: #ffffff; }
        .keyboard.keyboard-show{ bottom: 0px; }
        .keyboard .row{ position: relative; width: 100%; height: 80px; }
        .keyboard .row button{ position: relative; margin: 5px 5px; border: none; background-color: #ffffff; font-size: 1.8em; border-radius: 4px; width: calc( 8% - 10px ); height: 70px; }
        .keyboard .row button:active{ background-color: #0678C9; color: #ffffff; }

        .keyboard .row:nth-child(1) button{ width: calc( 9% - 10px ); left: 0.5%; }

        .keyboard .row:nth-child(2) button{ left: 0.5%; width: calc( 9% - 10px ); }

        .keyboard .row:nth-child(3) button{ left: 5%; width: calc( 9% - 10px ); }

        .keyboard .row:nth-child(4) button{ left: 0.5%; width: calc( 8.9% - 10px ); }
        .keyboard .row:nth-child(4) button:nth-child(1){ width: calc( 10% - 10px ); }

        .keyboard .row:nth-child(5) button{ left: 2.5%; width: calc( 12.5% - 10px ); }
        .keyboard .row button.space { width: calc( 70% - 10px ); }

        .card{ position: absolute; left: 50%; top: 100%; width: 47%; background-color: #ffffff; height: auto; -webkit-transform: translate3d(-50%, 0%, 0); -webkit-transition: all 0.4s; -webkit-box-shadow:0 1px 4px rgba(0,0,0,.17); }
        .card.show{ top: 117px; }
        .card .content{ position: relative; width: 100%; min-height: 200px; background-color: #0678C9; }
        .card .content p{ width: 100%; line-height: 200px; color: #ffffff; text-align: center; }

        .card button.view-page{ font-size: 1.2em; position: relative; margin: 27px auto; left: 50%; -webkit-transform: translateX(-50%); border: none; background-color: #0678C9; color: #ffffff; border-radius: 2px; width: auto; padding: 5px 17px; }
    </style>
</head>
<body>

<div class="search"><input type="text" placeholder="search"><div class="icon-search small"></div></div>

<div class="res-box">
    <ul></ul>
</div>

<div class="card">
    <div class="content"><p>UISegmentedControler</p></div>
    <button class="view-page">view page</button>
</div>

<div class="keyboard">
    <div class="row">
        <button data-value="@">@</button><button data-value="0">0</button><button data-value="1">1</button><button data-value="2">2</button><button data-value="3">3</button><button data-value="4">4</button><button data-value="5">5</button><button data-value="6">6</button><button data-value="7">7</button><button data-value="8">8</button><button data-value="9">9</button>
    </div>
    <div class="row">
        <button data-value="q">q</button><button data-value="w">w</button><button data-value="e">e</button><button data-value="r">r</button><button data-value="t">t</button><button data-value="y">y</button><button data-value="u">u</button><button data-value="i">i</button><button data-value="o">o</button><button data-value="p">p</button><button data-value="delete">delete</button>
    </div>
    <div class="row">
        <button data-value="a">a</button><button data-value="s">s</button><button data-value="d">d</button><button data-value="f">f</button><button data-value="g">g</button><button data-value="h">h</button><button data-value="j">j</button><button data-value="k">k</button><button data-value="l">l</button><button data-value="return">return</button>
    </div>
    <div class="row">
        <button data-value="lock">lock</button><button data-value=",">,</button><button data-value="z">z</button><button data-value="x">x</button><button data-value="c">c</button><button data-value="v">v</button><button data-value="b">b</button><button data-value="n">n</button><button data-value="m">m</button><button data-value=".">.</button><button data-value="?">?</button>
    </div>
    <div class="row">
        <button data-value="number" class="number">123</button><button data-value="space" class="space">space</button><button data-value="hide" class="hide">hide</button>
    </div>
</div>

</body>
<script>
    (function(window){
        var copyright = {
            Author  : 'Mailmam_Recat',
            Date    : '2015',
            Mail    : 'MailmanRecat@gmail.com',
            Blog    : 'http://zhihupaper.com',
            Browser : 'chrome only',
            info    : function(){ console.log( 'Anthor: '+this.Author+' | Date: '+this.Date+' | Mail: '+this.Mail+' | Browser: '+ this.Browser ) }
        };

        copyright.info();
        return window.copyright = copyright;
    })(window);

    var $  = function(obj){ return document.querySelector(obj)                    },
            $$   = function(obj )    { return document.querySelectorAll(obj)      },
            $n   = function(obj )    { return document.getElementsByClassName(obj)},
            $ca  = function(el, name){ el.classList.add(name)            },
            $cr  = function(el, name){ el.classList.remove(name)         },
            $cc  = function(el, name){ return el.classList.contains(name)},
            $ct  = function(el, name){ el.classList.toggle(name)         };

    UIaction = {
        search   : {
            el      : $('.search'),
            up      : function(){ this.el.classList.add('up')    },
            down    : function(){ this.el.classList.remove('up') }
        },
        keyboard: {
            el    : $('.keyboard'),
            show  : function(){ this.el.classList.add('keyboard-show')    },
            hide  : function(){ this.el.classList.remove('keyboard-show') }
        }
    };

    $('.search input').onfocus = function(){
        UIaction.search.up();
//        UIaction.keyboard.show();
        $('.res-box').style.display = 'block';
    };
    $('.search input').onblur  = function(){
//        $('.search').classList.remove('up');
    };

    var i = '?';
    console.log(i.toUpperCase());

    var special_key = ['delete', 'return', 'number', 'space', 'hide', 'lock'];
    [].slice.call( $$('.keyboard button')).forEach(function(el, i){
        var value = el.getAttribute('data-value');
        el.onclick = function(){
            if( special_key.indexOf(value) ){
                console.log(value);
            }
        }
    });

    var dict = {
        keywords: [],
        addKeywords: function( word ){
            dict.keywords.push( word );
        },
        getwords: function( word ){
            if(word.length === 0) return false;

            var word = word.toUpperCase();
            var T = true, keys = [];

            for( var key in dict.keywords){
                var keyword = dict.keywords[key].toUpperCase();
                for(var i in word){
                    var letter = word[i];
                    if( keyword.indexOf( letter ) === -1 ){
                        T = false;
                    }
                }

                if( T === true ){
                    keys.push( dict.keywords[key] );
                }

                T = true;
            }

            return keys;
        }
    };

    var dictSelect = {
        activition: true,
        max: 0,
        current: 0,
        onSelect: function(){
            [].slice.call(document.querySelectorAll( '.res-box li' )).forEach(function(li, i){
                if(i === dictSelect.current - 1){
                    li.setAttribute('data-select', 'YES');
                    li.style.backgroundColor = '#F4F4F4';
                }else{
                    li.setAttribute('data-select', 'NO');
                    li.style.backgroundColor = '#FFF';
                }
            })
        },
        insert: function( keys ){
            var str = '';
            for(var key in keys){
                str += '<li data-label='+keys[key]+'>'+keys[key]+'</li>';
            }
            if( keys.length === 0 ){
                str = '<li>NO RESULT</li>';
            }
            $('.res-box ul').innerHTML = str;
            dictSelect.max = keys.length;
            dictSelect.current = 0;
        },
        up: function(){
            if( this.current == 0 ){
                this.current = this.max;
            }else{
                this.current -= 1;
            }

            this.onSelect();
        },
        down: function(){
            if( this.current == this.max ){
                this.current = 1;
            }else{
                this.current += 1;
            }

            this.onSelect();
        },
        didSelect: function(){
            [].slice.call(document.querySelectorAll( '.res-box ul li' )).forEach(function(li, i){
                var isSelect = li.getAttribute('data-select');
                if( isSelect === 'YES' ){
                    console.log(li.getAttribute('data-label'));
                    $('.res-box ul').innerHTML = '';
                    $('.card').classList.add('show');
                }
            });
        }
    }

    var keys = [
        'UISegmentedControl by javascript',
        'UINavigationControl by javascript',
        'exclamation icon by css',
        'search icon by css'
    ];

    dict.keywords = keys;



    $('.search input').oninput = function(){
        var w = $('input').value;
        var keys = dict.getwords(w);

        dictSelect.insert( keys );
    };

    $('.res-box ul').onclick = function( e ){
        if( e.target == this ) return;

        var page = e.target.getAttribute('data-app');
    };

    document.onkeydown = function(e){
        if( e.keyCode === 38 ){
            if( dictSelect.activition === true ){
                dictSelect.up();
            }
        }else if( e.keyCode === 40 ){
            if( dictSelect.activition === true ){
                dictSelect.down();
            }
        }else if( e.keyCode === 13 ){
            if( dictSelect.activition === true ){
                dictSelect.didSelect();
            }
        }
    };

</script>
</html>